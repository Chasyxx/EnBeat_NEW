t?0:ec=Array(n=12288).fill(0),
SAMP_RATE = 48000,
ts = t/SAMP_RATE,
d = 261.63,
rb = 277.18,
r = 293.66,
mb = 311.13,
m = 329.63,
f = 349.23,
sb = 369.99,
s = 392.00,
lb = 415.30,
l = 440.00,
sib = 466.16,
si = 493.88,


nn=x=>abs(sin(ts*x*4))*2-1.25,
mel1=nn([si,d*2,d*2,d*2,sib,sib,lb,lb,s,s,s,s][t/1.2>>15&15]),
mel2=nn([l,l,s,f,sb,sb,sb,sb,f,f,f,f][t/1.2>>15&15]),
mel3=nn([sb,sb,m,d,rb,rb,rb,rb,r,r,r,r][t/1.2>>15&15]),
bss1=nn([s/2,s/2,sb/2,sb/2,s/2,s/2][t/1.2>>16&7]),
bss2=nn([m/2,m/2,rb/2,rb/2,mb/2,mb/2][t/1.2>>16&7]),
bss3=nn([d/2,d/2,lb/4,lb/4,sib/2,sib/2][t/1.2>>16&7]),

ev=(mel1+mel2+mel3+bss1+bss2+bss3)/6||0+ec[t%n], ec[t%n]+= ev, ec[t%n]/=3, ev/2