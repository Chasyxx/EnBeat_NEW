var trM = [[[68,0,0.375],[68,0.375,0.75],[71,0.75,0.875],[73,0.875,1],[76,1,1.375],[76,1.375,1.75],[75,1.75,2],[71,2,2.375],[71,2.375,2.75],[73,2.75,2.875],[75,2.875,3],[76,3,3.375],[75,3.375,3.75],[73,3.75,4],[68,4,4.375],[68,4.375,4.75],[71,4.75,4.875],[73,4.875,5],[76,5,5.375],[76,5.375,5.75],[75,5.75,6],[71,6,6.375],[71,6.375,6.75],[73,6.75,6.875],[75,6.875,7],[73,7,7.25],[71,7.25,7.5],[69,7.5,7.75],[66,7.75,8]],[[56,0.25,0.5],[56,0.75,1],[64,1.25,1.5],[64,1.75,2],[59,2.25,2.5],[59,2.75,3],[64,3.25,3.5],[63,3.75,4],[56,4.25,4.5],[56,4.75,5],[64,5.25,5.5],[64,5.75,6],[59,6.25,6.5],[59,6.75,7],[61,7.25,7.5],[57,7.75,8]],[[44,0,1],[52,1,2],[47,2,3],[52,3,3.5],[51,3.5,4],[44,4,5],[52,5,6],[47,6,7],[49,7,7.5],[45,7.5,8]]];
var trD = [[[42,0],[36,0],[42,0.125],[42,0.25],[38,0.25],[46,0.25],[42,0.375],[42,0.5],[42,0.625],[36,0.625],[42,0.75],[38,0.75],[46,0.75],[42,0.875],[42,1],[36,1],[42,1.125],[42,1.25],[38,1.25],[46,1.25],[42,1.375],[42,1.5],[42,1.625],[36,1.625],[42,1.75],[38,1.75],[46,1.75],[42,1.875],[42,2],[36,2],[42,2.125],[42,2.25],[38,2.25],[46,2.25],[42,2.375],[42,2.5],[42,2.625],[36,2.625],[42,2.75],[38,2.75],[46,2.75],[42,2.875],[42,3],[36,3],[42,3.125],[42,3.25],[38,3.25],[46,3.25],[42,3.375],[42,3.5],[42,3.625],[36,3.625],[42,3.75],[38,3.75],[46,3.75],[42,3.875],[42,4],[36,4],[42,4.125],[42,4.25],[38,4.25],[46,4.25],[42,4.375],[42,4.5],[42,4.625],[36,4.625],[42,4.75],[38,4.75],[46,4.75],[42,4.875],[42,5],[36,5],[42,5.125],[42,5.25],[38,5.25],[46,5.25],[42,5.375],[42,5.5],[42,5.625],[36,5.625],[42,5.75],[38,5.75],[46,5.75],[42,5.875],[42,6],[36,6],[42,6.125],[42,6.25],[38,6.25],[46,6.25],[42,6.375],[42,6.5],[42,6.625],[36,6.625],[42,6.75],[38,6.75],[46,6.75],[42,6.875],[42,7],[36,7],[42,7.125],[42,7.25],[38,7.25],[46,7.25],[42,7.375],[42,7.5],[42,7.625],[36,7.625],[42,7.75],[38,7.75],[46,7.75],[42,7.875]]];
var wav = [t=>(t?32*(x=8*cos((10.567+min(t>>10,2))*(t/512)+abs(x)**.5)/PI)/96:x=0),t=>t%256/128-1,t=>(((t*0.9275)%233.4+(t*0.9275)%115.1+(t*0.9275)%248.9&97)-48.5)/96];
var drm = {42:t=>(random()-0.5)*max(1-t*8,0),36:t=>sin(sqrt(t*4E4))*max(1-t*4,0),38:t=>sin(sin(((t*4E4)>>1)**PI)/2*3e3/((t*8E4)+1)),46:t=>(random()-0.5)*max(1-t*3,0)};
return function(time) {
	time %= 8;
	var t = time * 7040;
	var out = 0;
	trM.forEach((tr,i)=>{
		tr.filter(note=>time>=note[1]&&time<note[2]).forEach(e=>out+=wav[i]((t-e[1]*7040)*2**((e[0])/12)/8));
	});
	trD.forEach(tr=>{
		tr.filter(note=>time>=note[1]&&time<note[1]+1).forEach(e=>out+=drm[e[0]](time-e[1]));
	});
	return out/100*50;
};