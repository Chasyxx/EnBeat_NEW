kick = 128 + 32 * sin(20 * cbrt(t % 32767 / 40)), 
snare = random() * (-t & 8191) / 256,

j = t/4,

drum = ((t * sin(t >> 2) & 255) * (-t & 16383) / 6e4) * "01"[(t >> 14) % 2],

melody = (j * (j & 16384 ? 7 : 5) * (3 - (3 & j >> 9) +(3 & j >> 8)) >> (3 & -j >> (j & 4096 ? 12 : 16)) | j >> 3) % 256 / 4, 

vibrato = (2 * j * (j & 16384 ? 7 : 5) * (3 - (3 & j >> 7) +(3 & j >> 12)) >> (3 & -j >> (j & 4096 ? 11 : 16)) & 128) % 256 * (-t & 8191) / 1e4 * "01" [(t >> 14) % 2],

64 - ((drum + snare + kick) + (vibrato + melody * 2) / 3)